// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
var t="function"==typeof Object.defineProperty?Object.defineProperty:null;var e,r=Object.defineProperty,o=Object.prototype,n=o.toString,u=o.__defineGetter__,i=o.__defineSetter__,f=o.__lookupGetter__,l=o.__lookupSetter__;e=function(){try{return t({},"x",{}),!0}catch(t){return!1}}()?r:function(t,e,r){var a,p,c,s;if("object"!=typeof t||null===t||"[object Array]"===n.call(t))throw new TypeError("invalid argument. First argument must be an object. Value: `"+t+"`.");if("object"!=typeof r||null===r||"[object Array]"===n.call(r))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+r+"`.");if((p="value"in r)&&(f.call(t,e)||l.call(t,e)?(a=t.__proto__,t.__proto__=o,delete t[e],t[e]=r.value,t.__proto__=a):t[e]=r.value),c="get"in r,s="set"in r,p&&(c||s))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return c&&u&&u.call(t,e,r.get),s&&i&&i.call(t,e,r.set),t};var a=e;function p(t,e,r){a(t,e,{configurable:!1,enumerable:!1,writable:!1,value:r})}var c=Object.prototype.hasOwnProperty;var s,_,b,h="function"==typeof Symbol&&"symbol"==typeof Symbol("foo")&&(s=Symbol,_="iterator",null!=s&&c.call(s,_))&&"symbol"==typeof Symbol.iterator?Symbol.iterator:null;function y(){return this instanceof y?(this._buffer=[],this):new y}p(y.prototype,"clear",(function(){return this._buffer.length=0,this})),p(y.prototype,"first",(function(){if(this._buffer.length)return this._buffer[this._buffer.length-1]})),p(y.prototype,"iterator",(function(){var t,e,r,o,n;return r=this,n=this._buffer.length,t=this._buffer.slice(),p(e={},"next",(function(){if(n-=1,o||n<0)return{done:!0};return{value:t[n],done:!1}})),p(e,"return",(function(t){if(o=!0,arguments.length)return{value:t,done:!0};return{done:!0}})),h&&p(e,h,(function(){return r.iterator()})),e})),p(y.prototype,"last",(function(){if(this._buffer.length)return this._buffer[0]})),b=y.prototype,a(b,"length",{configurable:!1,enumerable:!1,get:function(){return this._buffer.length}}),p(y.prototype,"pop",(function(){if(this._buffer.length)return this._buffer.pop()})),p(y.prototype,"push",(function(t){return this._buffer.push(t),this})),p(y.prototype,"toArray",(function(){var t,e;for(t=[],e=this._buffer.length-1;e>=0;e--)t.push(this._buffer[e]);return t})),p(y.prototype,"toJSON",(function(){var t={type:"stack"};return t.data=this.toArray(),t}));export{y as default};
//# sourceMappingURL=mod.js.map
