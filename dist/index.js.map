{
  "version": 3,
  "sources": ["../lib/main.js", "../lib/index.js"],
  "sourcesContent": ["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n/* eslint-disable no-restricted-syntax, no-invalid-this */\n\n'use strict';\n\n// MODULES //\n\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar setReadOnlyAccessor = require( '@stdlib/utils-define-nonenumerable-read-only-accessor' );\nvar iteratorSymbol = require( '@stdlib/symbol-iterator' );\n\n\n// MAIN //\n\n/**\n* Stack constructor.\n*\n* @constructor\n* @returns {Stack} stack instance\n*\n* @example\n* var s = new Stack();\n*\n* // Add values to the stack:\n* s.push( 'foo' ).push( 'bar' );\n*\n* // Remove the top value:\n* var v = s.pop();\n* // returns 'bar'\n*\n* // Add a new value to the stack:\n* s.push( 'beep' );\n*\n* // Remove the top value:\n* v = s.pop();\n* // returns 'beep'\n*/\nfunction Stack() {\n\tif ( !(this instanceof Stack) ) {\n\t\treturn new Stack();\n\t}\n\t// Use a dynamic array as insertion and deletion is O(1) amortized:\n\tthis._buffer = [];\n\treturn this;\n}\n\n/**\n* Clears the stack.\n*\n* @name clear\n* @memberof Stack.prototype\n* @type {Function}\n* @returns {Stack} stack instance\n*\n* @example\n* var s = new Stack();\n*\n* // Add values to the stack:\n* s.push( 'foo' ).push( 'bar' );\n*\n* // Peek at the top value:\n* var v = s.first();\n* // returns 'bar'\n*\n* // Examine the stack length:\n* var len = s.length;\n* // returns 2\n*\n* // Clear all stack items:\n* s.clear();\n*\n* // Peek at the top value:\n* v = s.first();\n* // returns undefined\n*\n* // Examine the stack length:\n* len = s.length;\n* // returns 0\n*/\nsetReadOnly( Stack.prototype, 'clear', function clear() {\n\tthis._buffer.length = 0;\n\treturn this;\n});\n\n/**\n* Returns the top value (i.e., the value which is \"first-out\").\n*\n* @name first\n* @memberof Stack.prototype\n* @type {Function}\n* @returns {(*|void)} top value\n*\n* @example\n* var s = new Stack();\n*\n* // Add values to the stack:\n* s.push( 'foo' ).push( 'bar' );\n*\n* // Peek at the top value:\n* var v = s.first();\n* // returns 'bar'\n*/\nsetReadOnly( Stack.prototype, 'first', function first() {\n\tif ( this._buffer.length ) {\n\t\treturn this._buffer[ this._buffer.length-1 ];\n\t}\n});\n\n/**\n* Returns an iterator for iterating over a stack.\n*\n* ## Notes\n*\n* -   In order to prevent confusion arising from stack mutation during iteration, a returned iterator **always** iterates over a stack \"snapshot\", which is defined as the list of stack elements at the time of this method's invocation.\n*\n* @name iterator\n* @memberof Stack.prototype\n* @type {Function}\n* @returns {Iterator} iterator\n*\n* @example\n* var s = new Stack();\n*\n* // Add values to the stack:\n* s.push( 'foo' ).push( 'bar' );\n*\n* // Create an iterator:\n* var it = s.iterator();\n*\n* // Iterate over the stack...\n* var v = it.next().value;\n* // returns 'bar'\n*\n* v = it.next().value;\n* // returns 'foo'\n*\n* var bool = it.next().done;\n* // returns true\n*/\nsetReadOnly( Stack.prototype, 'iterator', function iterator() {\n\tvar values;\n\tvar iter;\n\tvar self;\n\tvar FLG;\n\tvar i;\n\n\tself = this;\n\n\t// Initialize the iteration index:\n\ti = this._buffer.length;\n\n\t// Create a copy of stack values (necessary in order to \"snapshot\" the stack; otherwise, values could come and go between calls to `next`):\n\tvalues = this._buffer.slice();\n\n\t// Create an iterator protocol-compliant object:\n\titer = {};\n\tsetReadOnly( iter, 'next', next );\n\tsetReadOnly( iter, 'return', end );\n\tif ( iteratorSymbol ) {\n\t\tsetReadOnly( iter, iteratorSymbol, factory );\n\t}\n\treturn iter;\n\n\t/**\n\t* Returns an iterator protocol-compliant object containing the next iterated value.\n\t*\n\t* @private\n\t* @returns {Object} iterator protocol-compliant object\n\t*/\n\tfunction next() {\n\t\ti -= 1;\n\t\tif ( FLG || i < 0 ) {\n\t\t\treturn {\n\t\t\t\t'done': true\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\t'value': values[ i ],\n\t\t\t'done': false\n\t\t};\n\t}\n\n\t/**\n\t* Finishes an iterator.\n\t*\n\t* @private\n\t* @param {*} [value] - value to return\n\t* @returns {Object} iterator protocol-compliant object\n\t*/\n\tfunction end( value ) {\n\t\tFLG = true;\n\t\tif ( arguments.length ) {\n\t\t\treturn {\n\t\t\t\t'value': value,\n\t\t\t\t'done': true\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\t'done': true\n\t\t};\n\t}\n\n\t/**\n\t* Returns a new iterator.\n\t*\n\t* @private\n\t* @returns {Iterator} iterator\n\t*/\n\tfunction factory() {\n\t\treturn self.iterator();\n\t}\n});\n\n/**\n* Returns the bottom stack value (i.e., the value which is currently \"last-out\").\n*\n* @name last\n* @memberof Stack.prototype\n* @type {Function}\n* @returns {(*|void)} bottom stack value\n*\n* @example\n* var s = new Stack();\n*\n* // Add values to the stack:\n* s.push( 'foo' ).push( 'bar' );\n*\n* // Peek at the bottom value:\n* var v = s.last();\n* // returns 'foo'\n*/\nsetReadOnly( Stack.prototype, 'last', function last() {\n\tif ( this._buffer.length ) {\n\t\treturn this._buffer[ 0 ];\n\t}\n});\n\n/**\n* Stack length.\n*\n* @name length\n* @memberof Stack.prototype\n* @type {NonNegativeInteger}\n*\n* @example\n* var s = new Stack();\n*\n* // Examine the initial stack length:\n* var len = s.length;\n* // returns 0\n*\n* // Add values to the stack:\n* s.push( 'foo' ).push( 'bar' );\n*\n* // Retrieve the current stack length:\n* len = s.length;\n* // returns 2\n*/\nsetReadOnlyAccessor( Stack.prototype, 'length', function get() {\n\treturn this._buffer.length;\n});\n\n/**\n* Removes a value from the stack.\n*\n* @name pop\n* @memberof Stack.prototype\n* @type {Function}\n* @returns {(*|void)} removed value\n*\n* @example\n* var s = new Stack();\n*\n* // Add values to the stack:\n* s.push( 'foo' ).push( 'bar' );\n*\n* // Remove the top value:\n* var v = s.pop();\n* // returns 'bar'\n*\n* // Add a new value to the stack:\n* s.push( 'beep' );\n*\n* // Remove the top value:\n* v = s.pop();\n* // returns 'beep'\n*/\nsetReadOnly( Stack.prototype, 'pop', function pop() {\n\tif ( this._buffer.length ) {\n\t\treturn this._buffer.pop();\n\t}\n});\n\n/**\n* Adds a value to the stack.\n*\n* @name push\n* @memberof Stack.prototype\n* @type {Function}\n* @returns {Stack} stack instance\n*\n* @example\n* var s = new Stack();\n*\n* // Add values to the stack:\n* s.push( 'foo' ).push( 'bar' );\n*\n* // Remove the top value:\n* var v = s.pop();\n* // returns 'bar'\n*\n* // Add a new value to the stack:\n* s.push( 'beep' );\n*\n* // Remove the top value:\n* v = s.pop();\n* // returns 'beep'\n*/\nsetReadOnly( Stack.prototype, 'push', function push( value ) {\n\tthis._buffer.push( value );\n\treturn this;\n});\n\n/**\n* Returns an array of stack values.\n*\n* ## Notes\n*\n* -   Why reverse insertion order? Pros and cons to either order, but reverse insertion order mirrors iterator order. For example, we can use the ES6/ES2015+ spread operator along with the iterator to return stack values.\n*\n*     ```text\n*     arr = [...s.iterator()]\n*     ```\n*\n*     One might (as is the opinion here) consider parity of array serialization and iterator order to be a reasonable design goal.\n*\n* @name toArray\n* @memberof Stack.prototype\n* @type {Function}\n* @returns {Array} stack values\n*\n* @example\n* var s = new Stack();\n*\n* // Add values to the stack:\n* s.push( 'foo' ).push( 'bar' );\n*\n* // Get an array of stack values:\n* var vals = s.toArray();\n* // returns [ 'bar', 'foo' ]\n*/\nsetReadOnly( Stack.prototype, 'toArray', function toArray() {\n\tvar out;\n\tvar i;\n\tout = [];\n\tfor ( i = this._buffer.length-1; i >= 0; i-- ) {\n\t\tout.push( this._buffer[ i ] );\n\t}\n\treturn out;\n});\n\n/**\n* Serializes a stack as JSON.\n*\n* ## Notes\n*\n* -   `JSON.stringify()` implicitly calls this method when stringifying a `Stack` instance.\n*\n* @name toJSON\n* @memberof Stack.prototype\n* @type {Function}\n* @returns {Object} serialized stack\n*\n* @example\n* var s = new Stack();\n*\n* // Add values to the stack:\n* s.push( 'foo' ).push( 'bar' );\n*\n* // Serialize to JSON:\n* var o = s.toJSON();\n* // returns { 'type': 'stack', 'data': [ 'bar', 'foo' ] }\n*/\nsetReadOnly( Stack.prototype, 'toJSON', function toJSON() {\n\tvar out = {};\n\tout.type = 'stack';\n\tout.data = this.toArray();\n\treturn out;\n});\n\n\n// EXPORTS //\n\nmodule.exports = Stack;\n", "/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Stack.\n*\n* @module @stdlib/utils-stack\n*\n* @example\n* var stack = require( '@stdlib/utils-stack' );\n*\n* var s = stack();\n*\n* // Add values to the stack:\n* s.push( 'foo' ).push( 'bar' );\n*\n* // Remove the top value:\n* var v = s.pop();\n* // returns 'bar'\n*\n* // Add a new value to the stack:\n* s.push( 'beep' );\n*\n* // Remove the top value:\n* v = s.pop();\n* // returns 'beep'\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n"],
  "mappings": "uGAAA,IAAAA,EAAAC,EAAA,SAAAC,EAAAC,EAAA,cAwBA,IAAIC,EAAc,QAAS,uDAAwD,EAC/EC,EAAsB,QAAS,uDAAwD,EACvFC,EAAiB,QAAS,yBAA0B,EA4BxD,SAASC,GAAQ,CAChB,OAAO,gBAAgBA,GAIvB,KAAK,QAAU,CAAC,EACT,MAJC,IAAIA,CAKb,CAmCAH,EAAaG,EAAM,UAAW,QAAS,UAAiB,CACvD,YAAK,QAAQ,OAAS,EACf,IACR,CAAC,EAoBDH,EAAaG,EAAM,UAAW,QAAS,UAAiB,CACvD,GAAK,KAAK,QAAQ,OACjB,OAAO,KAAK,QAAS,KAAK,QAAQ,OAAO,CAAE,CAE7C,CAAC,EAiCDH,EAAaG,EAAM,UAAW,WAAY,UAAoB,CAC7D,IAAIC,EACAC,EACAC,EACAC,EACA,EAEJ,OAAAD,EAAO,KAGP,EAAI,KAAK,QAAQ,OAGjBF,EAAS,KAAK,QAAQ,MAAM,EAG5BC,EAAO,CAAC,EACRL,EAAaK,EAAM,OAAQG,CAAK,EAChCR,EAAaK,EAAM,SAAUI,CAAI,EAC5BP,GACJF,EAAaK,EAAMH,EAAgBQ,CAAQ,EAErCL,EAQP,SAASG,GAAO,CAEf,OADA,GAAK,EACAD,GAAO,EAAI,EACR,CACN,KAAQ,EACT,EAEM,CACN,MAASH,EAAQ,CAAE,EACnB,KAAQ,EACT,CACD,CASA,SAASK,EAAKE,EAAQ,CAErB,OADAJ,EAAM,GACD,UAAU,OACP,CACN,MAASI,EACT,KAAQ,EACT,EAEM,CACN,KAAQ,EACT,CACD,CAQA,SAASD,GAAU,CAClB,OAAOJ,EAAK,SAAS,CACtB,CACD,CAAC,EAoBDN,EAAaG,EAAM,UAAW,OAAQ,UAAgB,CACrD,GAAK,KAAK,QAAQ,OACjB,OAAO,KAAK,QAAS,CAAE,CAEzB,CAAC,EAuBDF,EAAqBE,EAAM,UAAW,SAAU,UAAe,CAC9D,OAAO,KAAK,QAAQ,MACrB,CAAC,EA2BDH,EAAaG,EAAM,UAAW,MAAO,UAAe,CACnD,GAAK,KAAK,QAAQ,OACjB,OAAO,KAAK,QAAQ,IAAI,CAE1B,CAAC,EA2BDH,EAAaG,EAAM,UAAW,OAAQ,SAAeQ,EAAQ,CAC5D,YAAK,QAAQ,KAAMA,CAAM,EAClB,IACR,CAAC,EA8BDX,EAAaG,EAAM,UAAW,UAAW,UAAmB,CAC3D,IAAIS,EACAC,EAEJ,IADAD,EAAM,CAAC,EACDC,EAAI,KAAK,QAAQ,OAAO,EAAGA,GAAK,EAAGA,IACxCD,EAAI,KAAM,KAAK,QAASC,CAAE,CAAE,EAE7B,OAAOD,CACR,CAAC,EAwBDZ,EAAaG,EAAM,UAAW,SAAU,UAAkB,CACzD,IAAIS,EAAM,CAAC,EACX,OAAAA,EAAI,KAAO,QACXA,EAAI,KAAO,KAAK,QAAQ,EACjBA,CACR,CAAC,EAKDb,EAAO,QAAUI,IC3WjB,IAAIW,EAAO,IAKX,OAAO,QAAUA",
  "names": ["require_main", "__commonJSMin", "exports", "module", "setReadOnly", "setReadOnlyAccessor", "iteratorSymbol", "Stack", "values", "iter", "self", "FLG", "next", "end", "factory", "value", "out", "i", "main"]
}
